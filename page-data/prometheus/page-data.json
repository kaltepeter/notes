{"componentChunkName":"component---src-templates-note-template-tsx","path":"/prometheus/","result":{"data":{"markdownRemark":{"html":"<h2>getting started</h2>\n<p><a href=\"https://prometheus.io/docs/prometheus/latest/getting_started/\">https://prometheus.io/docs/prometheus/latest/getting_started/</a></p>\n<p>Use docker instead of local:</p>\n<pre><code class=\"language-text\">#!/usr/bin/env bash\ncurDir=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" &#x26;&#x26; pwd )\"\n\ndocker run \\\n    -d --rm \\\n    -p 9090:9090 \\\n    -v ${curDir}/prometheus-data:/prometheus \\\n    -v ${curDir}/prometheus.yml:/etc/prometheus/prometheus.yml \\\n    --name prometheus \\\n    quay.io/prometheus/prometheus\n</code></pre>\n<p><a href=\"https://github.com/vegasbrianc/prometheus\">https://github.com/vegasbrianc/prometheus</a> - starter project for prometheus and grafana</p>\n<h2>docker</h2>\n<p><a href=\"https://www.ctl.io/developers/blog/post/monitoring-docker-services-with-prometheus/\">https://www.ctl.io/developers/blog/post/monitoring-docker-services-with-prometheus/</a> - outdated but very detailed use case of cadvisor and prometheus</p>\n<h2>monitoring jenkins</h2>\n<p>example config:</p>\n<pre><code class=\"language-text\">## prometheus.yml ##\nglobal:\n  scrape_interval:     15s # By default, scrape targets every 15 seconds.\n\n  # Attach these labels to any time series or alerts when communicating with\n  # external systems (federation, remote storage, Alertmanager).\n  external_labels:\n    monitor: 'codelab-monitor'\n\n# A scrape configuration containing exactly one endpoint to scrape:\n# Here it's Prometheus itself.\nscrape_configs:\n  # The job name is added as a label `job=&#x3C;job_name>` to any timeseries scraped from this config.\n  - job_name: 'prometheus'\n\n    # Override the global default and scrape targets from this job every 5 seconds.\n    scrape_interval: 5s\n\n    static_configs:\n      - targets: ['localhost:9090']\n\n  - job_name:       'jenkins'\n    # Override the global default and scrape targets from this job every 5 seconds.\n    scrape_interval: 5s\n\n    static_configs:\n      - targets: ['172.17.0.1:8081']\n        labels:\n          group: 'master'\n\n      - targets: ['172.17.0.1:8082']\n        labels:\n          group: 'slave'\n</code></pre>\n<h2>grafana</h2>\n<p><a href=\"https://github.com/vegasbrianc/grafana_dashboard\">https://github.com/vegasbrianc/grafana_dashboard</a> - example dashboard</p>\n<p><a href=\"https://finestructure.co/blog/2016/5/16/monitoring-with-prometheus-grafana-docker-part-1\">https://finestructure.co/blog/2016/5/16/monitoring-with-prometheus-grafana-docker-part-1</a></p>\n<p><a href=\"https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitor-send-to-grafana\">https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitor-send-to-grafana</a> - azure monitor solution</p>\n<h2>reload config</h2>\n<p><a href=\"https://www.robustperception.io/reloading-prometheus-configuration\">https://www.robustperception.io/reloading-prometheus-configuration</a></p>","frontmatter":{"date":"October 09, 2018","title":"Prometheus","tags":null}}},"pageContext":{"slug":"/prometheus/"}},"staticQueryHashes":["3649515864"]}