{"componentChunkName":"component---src-templates-note-template-tsx","path":"/instana/","result":{"data":{"markdownRemark":{"html":"<h2>agent</h2>\n<h3>docker</h3>\n<pre><code class=\"language-bash\">sudo docker run \\\n  --detach --rm \\\n  --publish 42699:42699 \\\n  --name instana-agent \\\n  --volume /var/run:/var/run \\\n  --volume /dev:/dev \\\n  --volume /sys:/sys \\\n  --volume /var/log:/var/log \\\n  --privileged \\\n  --net=host \\\n  --pid=host \\\n  --ipc=host \\\n  --env INSTANA_AGENT_KEY=\"${INSTANA_AGENT_KEY}\" \\\n  --env INSTANA_AGENT_ENDPOINT=\"${INSTANA_AGENT_ENDPOINT}\" \\\n  --env INSTANA_AGENT_ENDPOINT_PORT=\"${INSTANA_AGENT_ENDPOINT_PORT}\" \\\n  --env INSTANA_AGENT_ZONE=\"${INSTANA_AGENT_ZONE}\" \\\n  instana/agent\n</code></pre>\n<h3>mac</h3>\n<p>curl -o setup_agent.sh <a href=\"https://setup.instana.io/agent\">https://setup.instana.io/agent</a> &#x26;&#x26; chmod 700 ./setup_agent.sh &#x26;&#x26; sudo ./setup_agent.sh -a \"${instana_agent_key}\" -t dynamic -l us -s</p>\n<h2>Run API Tests locally</h2>\n<pre><code class=\"language-json\">  \"scripts\": {\n    \"build\": \"script-cli -z src/$npm_config_bundle_name index.js\",\n    \"exec\": \"BASE_URL=$npm_config_base_url script-cli -d src/$npm_config_bundle_name index.js\",\n    \"test\": \"echo \\\"Error: no test specified\\\" &#x26;&#x26; exit 1\",\n    \"zip\": \"./zip-script.sh\"\n  },\n</code></pre>\n<pre><code class=\"language-bash\">npm run exec --bundle_name=global-search # execute\nnpm run zip dealmaker-profile # zip output\n# run all zips\nfind ./src -type d -maxdepth 1 ! -iname src -exec basename {} \\; | xargs -I{} npm run zip {}\n</code></pre>\n<pre><code class=\"language-bash\">#!/usr/bin/env bash\nset -o errexit\nset -o pipefail\nset -o nounset\n[[ ${DEBUG:-} == true ]] &#x26;&#x26; set -o xtrace\nreadonly __dir=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" &#x26;&#x26; pwd)\"\n\ncurrent_dir=$(pwd)\nbundle_dir=\"${__dir}/bundles\"\n\n[[ ${1:-} ]] || { echo \"missing an argument. first argument must be a bundle name\" >&#x26;2; exit 1; }\nbundle_name=${1:-}\n\n# [[ ${2:-} ]] || { echo \"missing an argument. second argument must be the target env. i.e. dev, stage or prod\" >&#x26;2; exit 1; }\n# target_env=${2:-}\n\ncd \"${__dir}/src/${bundle_name}\"\n\nzip -r \"${bundle_dir}/${bundle_name}.zip\" .\n\ncd \"${current_dir}\"\nnpm run build --silent --bundle_name=\"${bundle_name}\" > \"${bundle_dir}/${bundle_name}.json\"\nexit 0\n\n</code></pre>","frontmatter":{"date":"July 13, 2019","title":"Instana","tags":["APM"]}}},"pageContext":{"slug":"/instana/"}},"staticQueryHashes":["1796642556","2356112386","3489759178"],"slicesMap":{}}