{"componentChunkName":"component---src-templates-note-template-tsx","path":"/ansible/","result":{"data":{"markdownRemark":{"html":"<p><a href=\"https://medium.com/geekculture/ansible-2-10-installation-on-mac-os-x-add6a1034c16\">https://medium.com/geekculture/ansible-2-10-installation-on-mac-os-x-add6a1034c16</a> - high level walkthrough</p>\n<p><a href=\"https://docs.ansible.com/ansible/latest/user_guide/index.html#getting-started\">https://docs.ansible.com/ansible/latest/user_guide/index.html#getting-started</a> - documentation</p>\n<h2>Python versions</h2>\n<p>If your default python does not match the target version ansible may complain. Adding the shebang for python3 to your hosts file fixes that.</p>\n<pre><code class=\"language-bash\">#!/usr/bin/env python3\n</code></pre>\n<h2>Local machine setup</h2>\n<p><a href=\"https://blog.laurentcharignon.com/post/laptop-setup-with-ansible/\">https://blog.laurentcharignon.com/post/laptop-setup-with-ansible/</a></p>\n<p><a href=\"https://www.talkingquickly.co.uk/2021/01/macos-setup-with-ansible/\">https://www.talkingquickly.co.uk/2021/01/macos-setup-with-ansible/</a></p>\n<p><a href=\"https://pbassiner.github.io/blog/automating_my_dev_setup.html\">https://pbassiner.github.io/blog/automating_my_dev_setup.html</a></p>\n<p><a href=\"https://github.com/ThePrimeagen/ansible\">https://github.com/ThePrimeagen/ansible</a> - The Primeagen ansible setup</p>\n<h2>Use ansible to install homebrew</h2>\n<p><a href=\"http://rapidprogrammer.com/how-to-install-homebrew-with-ansible\">http://rapidprogrammer.com/how-to-install-homebrew-with-ansible</a></p>\n<p><a href=\"https://stackoverflow.com/a/63734604/3195475\">https://stackoverflow.com/a/63734604/3195475</a> - dealing with brew install permission issues</p>\n<p><a href=\"https://github.com/geerlingguy/mac-dev-playbook/issues/126\">https://github.com/geerlingguy/mac-dev-playbook/issues/126</a> - permissions issues for mac playbook</p>\n<p><a href=\"https://github.com/Homebrew/install/blob/master/install.sh\">https://github.com/Homebrew/install/blob/master/install.sh</a> - homebrew install script</p>\n<p><a href=\"https://gist.github.com/irazasyed/7732946\">https://gist.github.com/irazasyed/7732946</a> - homebrew permission fix, not secure</p>\n<h2>Collections</h2>\n<p><a href=\"https://githubhelp.com/geerlingguy/ansible-collection-mac\">https://githubhelp.com/geerlingguy/ansible-collection-mac</a></p>\n<h2>sample repos</h2>\n<p><a href=\"https://github.com/geerlingguy/mac-dev-playbook\">https://github.com/geerlingguy/mac-dev-playbook</a></p>\n<p><a href=\"https://github.com/TalkingQuickly/ansible-osx-setup\">https://github.com/TalkingQuickly/ansible-osx-setup</a></p>\n<h2>Flow Control</h2>\n<p><a href=\"https://prefetch.net/blog/2018/01/06/using-the-output-of-a-command-to-control-ansible-playbook-flow/\">https://prefetch.net/blog/2018/01/06/using-the-output-of-a-command-to-control-ansible-playbook-flow/</a>\n<a href=\"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/\">https://www.middlewareinventory.com/blog/ansible-wait_for-examples/</a></p>\n<h2>File system</h2>\n<p><a href=\"https://github.com/ansible/ansible/issues/25596\">https://github.com/ansible/ansible/issues/25596</a> - permissions of parents</p>\n<h2>debugging</h2>\n<p><a href=\"https://linuxhint.com/print-command-output-ansible/\">https://linuxhint.com/print-command-output-ansible/</a></p>\n<h2>Parallel Tasks</h2>\n<p><a href=\"https://toptechtips.github.io/2019-07-09-ansible_run_playbooks_tasks_in_parallel/\">https://toptechtips.github.io/2019-07-09-ansible_run_playbooks_tasks_in_parallel/</a></p>\n<h2>Secrets</h2>\n<p><a href=\"https://www.redhat.com/sysadmin/ansible-playbooks-secrets\">https://www.redhat.com/sysadmin/ansible-playbooks-secrets</a></p>\n<ul>\n<li>In theory vault is cryptographically secure and vaulted files can be checked in to public repos</li>\n<li>A linter can catch un-vaulted files</li>\n<li>Linking to a password manager lookup would be great, not everyone would use same one though. 1 password to pass in in arg.</li>\n<li>Using a password manager to write and env file and cleanup after could also work</li>\n<li>linking to full password vault is linking to much more than needed</li>\n</ul>\n<h2>Pre-Tasks</h2>\n<h3>Difference between pre-task and task?</h3>\n<ul>\n<li>\n<p>Pre-tasks run first.</p>\n</li>\n<li>\n<p>Can be tagged</p>\n</li>\n<li></li>\n</ul>\n<h2>Variables vs Facts</h2>\n<ul>\n<li>used interchangeably</li>\n<li>facts are usually about hosts</li>\n<li>accessed same way</li>\n</ul>\n<h2>Conditionally prompt for a variable?</h2>\n<p><a href=\"https://stackoverflow.com/questions/25466675/ansible-to-conditionally-prompt-for-a-variable\">https://stackoverflow.com/questions/25466675/ansible-to-conditionally-prompt-for-a-variable</a>\n<a href=\"https://docs.ansible.com/ansible/latest/collections/community/general/onepassword_lookup.html\">https://docs.ansible.com/ansible/latest/collections/community/general/onepassword_lookup.html</a>\n<a href=\"https://www.redhat.com/sysadmin/ansible-playbooks-secrets\">https://www.redhat.com/sysadmin/ansible-playbooks-secrets</a></p>\n<ul>\n<li>not doable out of box</li>\n<li>pre-tasks with no-log may work</li>\n<li>env var file or lookup integration may be better</li>\n</ul>\n<h2>Dealing with mac security</h2>\n<h2>Login to MAS</h2>\n<p><a href=\"https://github.com/tiiiecherle/osx_install_config/blob/master/03_homebrew_casks_and_mas/3b_homebrew_casks_and_mas_install/6_mas_appstore.sh\">https://github.com/tiiiecherle/osx_install_config/blob/master/03_homebrew_casks_and_mas/3b_homebrew_casks_and_mas_install/6_mas_appstore.sh</a></p>\n<p><a href=\"https://github.com/mas-cli/mas#%EF%B8%8F-known-issues\">https://github.com/mas-cli/mas#%EF%B8%8F-known-issues</a></p>","frontmatter":{"date":"February 13, 2022","title":"Ansible","tags":["automation"]}}},"pageContext":{"slug":"/ansible/"}},"staticQueryHashes":["1865044719","3489759178","3649515864"],"slicesMap":{}}